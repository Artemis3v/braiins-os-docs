.. toctree::
   :hidden:
   :maxdepth: 3
   :caption: Table of Contents:
   :glob:

   self
   Setup/index*
   Configuration/index*
   Basic User's Guide/index*

---------------

########
Введение
########

.. note::

Braiins OS - это полностью открытая операционная система для майнеров ASIC. Это была первая прошивка с реализацией оверт AsicBoost в 2018 году, и теперь в ней реализован новый протокол майнинга Stratum V2.
Кроме того, Braiins OS работает в тандеме с нашим новым программным компонентом BOSminer, который мы написали.
с нуля на языке Rust в качестве замены устаревшего CGminer.

На данный момент поддерживаются устройства Bitmain Antminer S9, S9i и S9j. Планируется поддержка Antminer S17
в ближайшем будущем.

**************
Характеристики
**************

 * Операционная система с открытым исходным кодом
 * Имплементация Stratum V2 с улучшенной эффективностью переноса данных и предотвращением перехвата хэшрейта
 * Замена CGminer (BOSminer) написана с нуля на языке Rust
 * Быстрый запуск (5-7 секунд)
 * NНикаких случайных сбоев из-за неопределенного поведения
 * Массовая установка
 * Автоматические обновления со стандартной системой opkg
 * Полностью настраиваемое управление вентилятором (поддержка иммерсионного охлаждения)
 * Расширенный мониторинг для предотвращения перегрева и других проблем

**************************
Служба поддержки и контакт
**************************

Есть вопросы?
Наша команда разработчиков и поддержки всегда готовы помочь.

Присоединяйтесь к нашим группам в Telegram:

  * `EN группа <https://t.me/BraiinsOS>`_
  * `RU группа <https://t.me/BraiinsOS_RU>`_
  * `ZH группа <https://t.me/BraiinsOS_ZH>`_
  
  Вы также можете `отправить VIP-запрос <https://slushpool.kayako.com/en-us/conversation/new/11>`_ в нашу службу поддержки.

****************
Журнал изменений
****************

20.04
---------------------------

Этот выпуск охватывает в основном проблемы, с которыми сталкиваются пользователи, трудности установки/удаления и 1 серьезную проблему с контроллером I2C на S9. Кроме того, теперь у нас есть ночные сборки, которые легко включить с помощью **bos** tool.

  * Все типы оборудования для майнинга

    * [функция] поддержка переподключения - мы реализовали поддержку `client.reconnect` (stratum V1) и переподключение сообщения для V2
    * [функция] установка/удаление (иначе **upgrade2bos** или **restore2factory**) улучшен процесс (переход с заводской прошивки на Braiins OS или наоборот):
    * [функция] собственный пользователь пула (`--pool-user`) может быть установлен в командной строке
    * [функция] настройки пула из заводской прошивки теперь автоматически переносятся в конфигурацию BOSminer. Миграцию можно отключить, указав (`--no-keep-pools`)
    * [функция] Теперь мы предоставляем двоичную форму **upgrade2bos** (основанный на pyinstaller) содержит последний установочный образ Braiins OS
    * [функция] аналогично, **restore2factory** (основанный на pyinstaller) теперь доступен в двоичной форме и больше не требует загрузки/поиска правильной заводской прошивки.
   * [функция] Дисковое пространство и длительное резервное копирование оригинальной прошивки теперь отключено по умолчанию (может быть включено `--backup`)
    * [функция] сохранение имени хоста при первоначальной установке теперь осуществляется двумя способами `--keep-hostname` и `--no-keep-hostname`, позволяя принудительно переопределить и автоматически генерировать имя хоста на основе MAC-адреса
    * [функция] поддержка включения / отключения ночных сборок была интегрирована в **bos** utility (и ее последователя **miner**).
    * [функция] система теперь обеспечивает **logs** покрытие **longer timespan** **BOSminer** операции благодаря включению **log rotation** и сжатия '/var/log/syslog.old', если больше чем 32 KiB
     * [буг] изображение на SD-карте теперь содержит открытый ключ авторизации в пуле, который отсутствовал
    * [буг] процент отказов теперь корректно отображается
    * [буг] неизвестные сообщения stratum  V1, полученные от сервера, теперь регистрируются для диагностики

   * Antminer S9
  
    * [буг] некоторые устройства испытывали случайные блокировки контроллера I2C и не могли обмениваться данными с контроллерами питания хэш-панели, подключенными к общей I2C. Мы обнаружили, что причиной было ядро контроллера Xilinx I2C, которое мы интегрировали в поток битов FPGA . Мы переключились на I2C, присутствующий в SoC, и поток битов только направляет сигнал периферийного устройства (IIC0) на соответствующие выводы FPGA.

20.03
---------------------------

Смотри WHATSNEW.MD (Будет опубликовано 3/31 на github)

****************
Известные ошибки
****************

Ниже перечислены проблемы, которые, как известно, присутствуют в выпущенной версии.

20.03 (обновлено 30.03.2020)
----------------------------

* GUI

    * Ссылочная линия на графике хэшрейта имеет неверное значение для среднего номинального хэшрейта. Ошибка
      присутствует только тогда, когда работают менее 3 цепочек хешей.
    * Коэффициент отклонения умножается на 100. Например, когда коэффициент отклонения составляет 0,1%, тогда отображается
      10%.

   * Конфигурация

     * При установке SD-карты появится сообщение об отсутствии ключа аутентификации Stratum V2 в Miner/Configuration.
       раздел (Error: missing upstream authority key for securing stratum2+tcp connection in pool).
       Пользователь может настроить соединение (включая ключ) в конфигурации или непосредственно в
       файл ``/etc/bosminer.toml``.
